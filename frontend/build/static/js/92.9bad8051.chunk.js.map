{"version":3,"file":"static/js/92.9bad8051.chunk.js","mappings":"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","sources":["Pages/Account/Account.jsx"],"sourcesContent":["import { Avatar, Button, Dialog, Typography } from \"@mui/material\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { deleteMyProfile, getMyPosts, logoutUser } from \"../../Actions/User\";\r\nimport \"./Account.css\";\r\nimport Loader from \"../../Components/Loader/Loader\";\r\nimport Post from \"../../Components/Post/Post\";\r\nimport User from \"../../Components/User/User\";\r\nimport { io } from \"socket.io-client\";\r\nimport { useRef } from \"react\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nconst Account = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const socket = useRef();\r\n  const socketURL = ' https://link-up-mppk.onrender.com';\r\n\r\n  socket.current = io(socketURL);\r\n\r\n  useEffect(() => {\r\n    // Listen for 'user-blocked' event\r\n    socket.current.on(\"user-blocked\", ({ userId }) => {\r\n      // Handle the event here\r\n      dispatch(logoutUser());\r\n      <Navigate to=\"/block\" />;\r\n      // You can trigger a refresh, update UI, or take any other necessary action.\r\n    });\r\n\r\n    // Cleanup the event listener when the component unmounts\r\n    return () => {\r\n      socket.current.off(\"user-blocked\");\r\n    };\r\n  }, []);\r\n\r\n  const { user, loading: userLoading } = useSelector((state) => state.user);\r\n  const { loading, error, posts } = useSelector((state) => state.myPosts);\r\n  const {\r\n    error: likeError,\r\n    message,\r\n    loading: deleteLoading,\r\n  } = useSelector((state) => state.like);\r\n\r\n  const [followersToggle, setFollowersToggle] = useState(false);\r\n\r\n  const [followingToggle, setFollowingToggle] = useState(false);\r\n  const logoutHandler = () => {\r\n    dispatch(logoutUser());\r\n  };\r\n\r\n  const deleteProfileHandler = async () => {\r\n    await dispatch(deleteMyProfile());\r\n    dispatch(logoutUser());\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(getMyPosts());\r\n  }, [dispatch]);\r\n\r\n\r\n\r\n  return loading === true || userLoading === true ? (\r\n    <Loader />\r\n  ) : (\r\n    <div className=\"account\">\r\n      <div className=\"accountleft\">\r\n        {posts && posts?.length > 0 ? (\r\n          posts?.map((post) => (\r\n            <Post\r\n              key={post?._id}\r\n              postId={post?._id}\r\n              caption={post?.caption}\r\n              createdAt={post?.createdAt}\r\n              postImage={post?.image?.url}\r\n              likes={post?.likes}\r\n              comments={post?.comments}\r\n              replies={post?.comments?.replies}\r\n              reports={post?.reports}\r\n              ownerImage={post?.owner?.avatar?.url}\r\n              ownerName={post?.owner?.name}\r\n              ownerId={post?.owner?._id}\r\n              isAccount={true}\r\n              isDelete={true}\r\n            />\r\n          ))\r\n        ) : (\r\n          <Typography variant=\"h6\">You have not made any post</Typography>\r\n        )}\r\n      </div>\r\n      <div className=\"accountright\">\r\n        <Avatar\r\n          src={user?.avatar?.url}\r\n          sx={{ height: \"8vmax\", width: \"8vmax\" }}\r\n        />\r\n\r\n        <Typography variant=\"h5\">{user?.name}</Typography>\r\n\r\n        <div>\r\n          <button onClick={() => setFollowersToggle(!followersToggle)}>\r\n            <Typography>Followers</Typography>\r\n          </button>\r\n          <Typography>{user?.followers?.length}</Typography>\r\n        </div>\r\n\r\n        <div>\r\n          <button onClick={() => setFollowingToggle(!followingToggle)}>\r\n            <Typography>Following</Typography>\r\n          </button>\r\n          <Typography>{user?.following?.length}</Typography>\r\n        </div>\r\n\r\n        <div>\r\n          <Typography>Posts</Typography>\r\n          <Typography>{user?.posts?.length}</Typography>\r\n        </div>\r\n\r\n        <Button variant=\"contained\" onClick={logoutHandler}>\r\n          Logout\r\n        </Button>\r\n\r\n        <Link to=\"/update/profile\">Edit Profile</Link>\r\n        <Link to=\"/update/password\">Change Password</Link>\r\n\r\n        <Button\r\n          variant=\"text\"\r\n          style={{ color: \"red\", margin: \"2vmax\" }}\r\n          onClick={deleteProfileHandler}\r\n          disabled={deleteLoading}\r\n        >\r\n          Delete My Profile\r\n        </Button>\r\n\r\n        <Dialog\r\n          open={followersToggle}\r\n          onClose={() => setFollowersToggle(!followersToggle)}\r\n        >\r\n          <div className=\"DialogBox\">\r\n            <Typography variant=\"h4\">Followers</Typography>\r\n\r\n            {user && user?.followers?.length > 0 ? (\r\n              user?.followers?.map((follower) => (\r\n                <User\r\n                  key={follower?._id}\r\n                  userId={follower?._id}\r\n                  name={follower?.name}\r\n                  avatar={follower?.avatar?.url}\r\n                />\r\n              ))\r\n            ) : (\r\n              <Typography style={{ margin: \"2vmax\" }}>\r\n                You have no followers\r\n              </Typography>\r\n            )}\r\n          </div>\r\n        </Dialog>\r\n\r\n        <Dialog\r\n          open={followingToggle}\r\n          onClose={() => setFollowingToggle(!followingToggle)}\r\n        >\r\n          <div className=\"DialogBox\">\r\n            <Typography variant=\"h4\">Following</Typography>\r\n\r\n            {user && user?.following?.length > 0 ? (\r\n              user?.following?.map((follow) => (\r\n                <User\r\n                  key={follow?._id}\r\n                  userId={follow?._id}\r\n                  name={follow?.name}\r\n                  avatar={follow?.avatar?.url}\r\n                />\r\n              ))\r\n            ) : (\r\n              <Typography style={{ margin: \"2vmax\" }}>\r\n                You're not following anyone\r\n              </Typography>\r\n            )}\r\n          </div>\r\n        </Dialog>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Account;\r\n"],"names":["_user$avatar","_user$followers","_user$following","_user$posts","_user$followers2","_user$followers3","_user$following2","_user$following3","dispatch","useDispatch","socket","useRef","current","io","useEffect","on","_ref","userId","logoutUser","Navigate","off","_useSelector","useSelector","state","user","userLoading","loading","_useSelector2","myPosts","posts","error","_useSelector3","like","deleteLoading","message","_useState","useState","_useState2","_slicedToArray","followersToggle","setFollowersToggle","_useState3","_useState4","followingToggle","setFollowingToggle","deleteProfileHandler","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","deleteMyProfile","stop","apply","arguments","getMyPosts","_jsx","Loader","_jsxs","className","children","length","map","post","_post$image","_post$comments","_post$owner","_post$owner$avatar","_post$owner2","_post$owner3","Post","postId","_id","caption","createdAt","postImage","image","url","likes","comments","replies","reports","ownerImage","owner","avatar","ownerName","name","ownerId","isAccount","isDelete","Typography","variant","Avatar","src","sx","height","width","onClick","followers","following","Button","Link","to","style","color","margin","disabled","Dialog","open","onClose","follower","_follower$avatar","User","follow","_follow$avatar"],"sourceRoot":""}